<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <title>Chatbot Simples com Voz</title>
    <style>
        body {
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(135deg, #7b2ff7, #f107a3);
    margin: 0;
    padding: 20px;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ===== CONTAINER DO CHAT ===== */
.chatbox {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 30px;
    width: 350px;
    border-radius: 20px;
    box-shadow: 0px 8px 25px rgba(0, 0, 0, 0.25);
    text-align: center;
    color: #fff;
    border: 1px solid rgba(255, 255, 255, 0.2);
    animation: fadeIn 1s ease;
}

/* ===== TÍTULO ===== */
.chatbox h2 {
    font-size: 26px;
    margin-bottom: 20px;
    font-weight: 600;
    letter-spacing: 1px;
}

/* ===== BOTÃO ===== */
button {
    width: 100%;
    padding: 14px;
    border: none;
    border-radius: 50px;
    background: #ffffff;
    color: #7b2ff7;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    transform: scale(1.05);
    background: #f9f9f9;
}

button:active {
    transform: scale(0.97);
}

/* ===== TEXTO DO RECONHECIMENTO ===== */
#saida {
    margin-top: 15px;
    font-size: 16px;
    color: #fff;
    opacity: 0.9;
}

/* ===== ANIMAÇÃO ===== */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(15px); }
    to   { opacity: 1; transform: translateY(0); }
}
    </style>
</head>

<body>

    <div class="chatbox">
        <h2> Chatbot por Voz</h2>
        <button onclick="ouvir()">Falar Agora</button>
    </div>

    <script>
        // PERGUNTA ÚNICA QUE O BOT ENTENDE
        const pergunta = ["quais são os principais testes a serem feitos em recém-nascidos", "qual a técnica correta da amamentação", "quais são os tipos de parto", "quais os tipos de câncer que podem acometar o sistema reprodutor feminino", "quais os principais gametas responsáveis pela reprodução humana"];

        // RESPOSTA ÚNICA DO BOT
        const resposta = ["Teste do pezinho, teste do coração, teste da orelhinha e teste dos olhos.", "Corpo do bebê tem que ficar próximo ao da mamãe, o bebê com a cabeça e tronco alinhados (não ficando contorcido) e o rosto do bebê deve ficar de frente para a mama com o narizinho na altura do mamilo.", "Parto natural, parto cesária e parto normal.", "Câncer do colo do útero, câncer do endométrio, câncer no ovário e câncer nas trompas de falópio.", "O espermatozóide e o óvulo."];

        // FALAR EM VOZ
        // Função que faz o navegador "falar"
        function falar(texto) {
            // Cria um objeto com o texto que será falado
            const discurso = new SpeechSynthesisUtterance(texto);

            // Define o idioma da voz (português do Brasil)
            discurso.lang = "pt-BR";

            // Define a velocidade da fala (1 = normal)
            discurso.rate = 1.3;

            // Faz o navegador falar o texto informado
            window.speechSynthesis.speak(discurso);
        }

        // Função que escuta o que o usuário fala pelo microfone
        function ouvir() {
            // Cria o reconhecedor de voz (apenas funciona no Chrome)
            const reconhecer = new webkitSpeechRecognition();

            // Define o idioma que será reconhecido
            reconhecer.lang = "pt-BR";

            // Inicia a captura de voz
            reconhecer.start();

            // Quando o usuário terminar de falar, esse evento é ativado
            reconhecer.onresult = function (event) {

                // Pega o texto que o usuário falou e transforma em minúsculas
                const textoFalado = event.results[0][0].transcript.toLowerCase();

                // Verifica se o texto que o usuário falou contém a pergunta esperada

                for (let i = 0; i < pergunta.length; i++) {
                    if (textoFalado.includes(pergunta[i])) {
                        // Se sim, fala a resposta
                        falar(resposta[i]);
                        return;
                    }
                }
                 // Se não, responde que não entendeu
                        falar("Desculpe, não entendi sua pergunta ou ainda não tenho uma resposta.");
            };
        }

    </script>
</body>

</html>